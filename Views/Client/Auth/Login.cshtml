@model FastFoodShop.DTOs.LoginDTO
@{
    ViewData["Title"] = "ƒêƒÉng nh·∫≠p - FastFood Shop";
    Layout = null;
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"]</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    
    <!-- Custom CSS -->
    <link href="~/client/css/auth-modern.css" rel="stylesheet" />
    
    @Html.AntiForgeryToken()
</head>
<body>
    <!-- Background Animation -->
    <div class="auth-background">
        <div class="food-icon">üçî</div>
        <div class="food-icon">üçï</div>
        <div class="food-icon">üçü</div>
        <div class="food-icon">üå≠</div>
        <div class="food-icon">ü•§</div>
        <div class="food-icon">üç∞</div>
    </div>

    <!-- Main Container -->
    <div class="auth-container">
        <!-- Brand Section -->
        <div class="auth-brand">
            <a href="/" class="auth-brand-logo">
                <span class="brand-icon">üçî</span>
                <span class="brand-text">FASTFOOD</span>
            </a>
            
            <h1 class="auth-brand-title">Ch√†o m·ª´ng tr·ªü l·∫°i!</h1>
            <p class="auth-brand-description">
                ƒêƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c h√†nh tr√¨nh ·∫©m th·ª±c tuy·ªát v·ªùi c·ªßa b·∫°n v·ªõi nh·ªØng m√≥n ƒÉn nhanh h·∫•p d·∫´n nh·∫•t.
            </p>
            
            <div class="auth-features">
                <div class="auth-feature">
                    <div class="feature-icon">‚ö°</div>
                    <div class="feature-text">ƒê·∫∑t h√†ng nhanh ch√≥ng ch·ªâ trong 30 gi√¢y</div>
                </div>
                <div class="auth-feature">
                    <div class="feature-icon">üéÅ</div>
                    <div class="feature-text">Nh·∫≠n ∆∞u ƒë√£i ƒë·ªôc quy·ªÅn d√†nh cho th√†nh vi√™n</div>
                </div>
                <div class="auth-feature">
                    <div class="feature-icon">üì±</div>
                    <div class="feature-text">Theo d√µi ƒë∆°n h√†ng d·ªÖ d√†ng</div>
                </div>
                <div class="auth-feature">
                    <div class="feature-icon">üí≥</div>
                    <div class="feature-text">Thanh to√°n an to√†n & ti·ªán l·ª£i</div>
                </div>
            </div>
        </div>

        <!-- Login Form Section -->
        <div class="auth-form-section">
            <div class="auth-form-header">
                <h2 class="auth-form-title">ƒêƒÇNG NH·∫¨P</h2>
                <p class="auth-form-subtitle">Nh·∫≠p th√¥ng tin ƒë·ªÉ ti·∫øp t·ª•c</p>
            </div>

            <form class="auth-form" action="/login" method="post" novalidate>
                @Html.AntiForgeryToken()
                <input type="hidden" name="returnUrl" value="@ViewBag.ReturnUrl" />

                <!-- Validation Summary -->
                @if (ViewData.ModelState.Any(x => x.Value.Errors.Any()))
                {
                    <div class="alert alert-danger" role="alert">
                        @foreach (var error in ViewData.ModelState.SelectMany(x => x.Value.Errors))
                        {
                            <div><i class="fas fa-exclamation-circle me-2"></i>@error.ErrorMessage</div>
                        }
                    </div>
                }

                <!-- Email Field -->
                <div class="form-group">
                    <label for="Email" class="form-label">
                        <i class="fas fa-envelope me-2"></i>Email
                    </label>
                    <input asp-for="Email" 
                           class="form-control" 
                           type="email" 
                           placeholder="example@email.com"
                           autocomplete="email"
                           required />
                    <span asp-validation-for="Email" class="invalid-feedback"></span>
                </div>

                <!-- Password Field -->
                <div class="form-group">
                    <label for="Password" class="form-label">
                        <i class="fas fa-lock me-2"></i>M·∫≠t kh·∫©u
                    </label>
                    <div class="password-wrapper">
                        <input asp-for="Password" 
                               class="form-control password-input" 
                               type="password" 
                               placeholder="Nh·∫≠p m·∫≠t kh·∫©u"
                               autocomplete="current-password"
                               id="passwordInput"
                               required />
                        <button type="button" class="password-toggle" id="togglePassword" aria-label="Hi·ªán/·∫©n m·∫≠t kh·∫©u">
                            <i class="fas fa-eye" id="toggleIcon"></i>
                        </button>
                    </div>
                    <span asp-validation-for="Password" class="invalid-feedback"></span>
                </div>

                <!-- Remember Me & Forgot Password -->
                <div class="form-group">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rememberMe" name="rememberMe" value="true" />
                            <label class="form-check-label" for="rememberMe">
                                Ghi nh·ªõ ƒëƒÉng nh·∫≠p
                            </label>
                        </div>
                        <a href="/forgot-password" class="auth-link">Qu√™n m·∫≠t kh·∫©u?</a>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn-auth">
                    <span class="btn-text">ƒêƒÇNG NH·∫¨P NGAY</span>
                    <span class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin me-2"></i>ƒêang x·ª≠ l√Ω...
                    </span>
                </button>
            </form>

            <!-- Footer -->
            <div class="auth-footer">
                <div class="auth-switch">
                    Ch∆∞a c√≥ t√†i kho·∫£n? 
                    <a href="/register" class="auth-switch-link">ƒêƒÉng k√Ω ngay</a>
                </div>
                <div class="mt-3">
                    <a href="/" class="auth-link">
                        <i class="fas fa-home me-2"></i>V·ªÅ trang ch·ªß
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/4.0.0/jquery.validate.unobtrusive.min.js" crossorigin="anonymous"></script>

    <script>
        // Password toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const passwordInput = document.getElementById('passwordInput');
            const toggleButton = document.getElementById('togglePassword');
            const toggleIcon = document.getElementById('toggleIcon');
            
            if (toggleButton && passwordInput) {
                toggleButton.addEventListener('click', function() {
                    const isPassword = passwordInput.type === 'password';
                    passwordInput.type = isPassword ? 'text' : 'password';
                    
                    // Toggle icon
                    toggleIcon.classList.toggle('fa-eye');
                    toggleIcon.classList.toggle('fa-eye-slash');
                    
                    // Update button text for accessibility
                    this.setAttribute('aria-label', isPassword ? '·∫®n m·∫≠t kh·∫©u' : 'Hi·ªán m·∫≠t kh·∫©u');
                });
            }
            
            // Form submission loading state
            const form = document.querySelector('.auth-form');
            const submitButton = form.querySelector('.btn-auth');
            const btnText = submitButton.querySelector('.btn-text');
            const btnLoading = submitButton.querySelector('.btn-loading');
            
            form.addEventListener('submit', function(e) {
                // Basic validation check
                if (!form.checkValidity()) {
                    e.preventDefault();
                    form.classList.add('was-validated');
                    return;
                }
                
                // Show loading state
                submitButton.disabled = true;
                btnText.style.display = 'none';
                btnLoading.style.display = 'inline-block';
                submitButton.classList.add('loading');
            });
            
            // Add input animation
            const inputs = form.querySelectorAll('.form-control');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    if (!this.value) {
                        this.parentElement.classList.remove('focused');
                    }
                });
            });
        });
        
        // Add some interactive animations
        document.addEventListener('mousemove', function(e) {
            const foodIcons = document.querySelectorAll('.food-icon');
            foodIcons.forEach((icon, index) => {
                const speed = (index + 1) * 0.02;
                const x = (window.innerWidth - e.clientX * speed) / 100;
                const y = (window.innerHeight - e.clientY * speed) / 100;
                icon.style.transform = `translateX(${x}px) translateY(${y}px)`;
            });
        });
    </script>
</body>
</html>