@model FastFoodShop.DTOs.RegisterDTO
@{
    ViewData["Title"] = "ƒêƒÉng k√Ω - FastFood Shop";
    Layout = null;
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"]</title>
    
    <!-- Bootstrap + Styles -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link href="~/client/css/auth-modern.css" rel="stylesheet" />
    
    @Html.AntiForgeryToken()
</head>
<body>
    <!-- Background Animation -->
    <div class="auth-background">
        <div class="food-icon">üçï</div>
        <div class="food-icon">üçî</div>
        <div class="food-icon">üçü</div>
        <div class="food-icon">üå≠</div>
        <div class="food-icon">ü•§</div>
        <div class="food-icon">üç∞</div>
    </div>

    <!-- Main Container -->
    <div class="auth-container">
        <!-- Brand Section -->
        <div class="auth-brand">
            <a href="/" class="auth-brand-logo">
                <span class="brand-icon">üçî</span>
                <span class="brand-text">FASTFOOD</span>
            </a>
            
            <h1 class="auth-brand-title">Tham gia c√πng ch√∫ng t√¥i!</h1>
            <p class="auth-brand-description">
                T·∫°o t√†i kho·∫£n ƒë·ªÉ kh√°m ph√° th·∫ø gi·ªõi ·∫©m th·ª±c ƒë·∫ßy m√†u s·∫Øc v√† nh·∫≠n nh·ªØng ∆∞u ƒë√£i ƒë·∫∑c bi·ªát d√†nh ri√™ng cho b·∫°n.
            </p>
            
            <div class="auth-features">
                <div class="auth-feature">
                    <div class="feature-icon">üöÄ</div>
                    <div class="feature-text">ƒêƒÉng k√Ω nhanh ch√≥ng ch·ªâ trong 30 gi√¢y</div>
                </div>
                <div class="auth-feature">
                    <div class="feature-icon">üéÅ</div>
                    <div class="feature-text">T·∫∑ng ngay 50.000ƒë cho th√†nh vi√™n m·ªõi</div>
                </div>
                <div class="auth-feature">
                    <div class="feature-icon">üì±</div>
                    <div class="feature-text">Theo d√µi ƒë∆°n h√†ng v√† l·ªãch s·ª≠ mua s·∫Øm</div>
                </div>
                <div class="auth-feature">
                    <div class="feature-icon">üíé</div>
                    <div class="feature-text">T√≠ch ƒëi·ªÉm ƒë·ªïi qu√† v√† nh·∫≠n voucher ƒë·ªôc quy·ªÅn</div>
                </div>
            </div>
        </div>

        <!-- Register Form Section -->
        <div class="auth-form-section">
            <div class="auth-form-header">
                <h2 class="auth-form-title">ƒêƒÇNG K√ù</h2>
                <p class="auth-form-subtitle">T·∫°o t√†i kho·∫£n m·ªõi c·ªßa b·∫°n</p>
            </div>

            <form class="auth-form" asp-action="Register" asp-controller="HomePage" method="post" novalidate>
                @Html.AntiForgeryToken()

                <!-- Validation Summary -->
                @if (ViewData.ModelState.Any(x => x.Value.Errors.Any()))
                {
                    <div class="alert alert-danger" role="alert">
                        @foreach (var error in ViewData.ModelState.SelectMany(x => x.Value.Errors))
                        {
                            <div><i class="fas fa-exclamation-circle me-2"></i>@error.ErrorMessage</div>
                        }
                    </div>
                }

                <div class="row">
                    <!-- First Name -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="FirstName" class="form-label">
                                <i class="fas fa-user me-2"></i>T√™n
                            </label>
                            <input asp-for="FirstName" 
                                   class="form-control" 
                                   placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n"
                                   required />
                            <span asp-validation-for="FirstName" class="invalid-feedback"></span>
                        </div>
                    </div>

                    <!-- Last Name -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="LastName" class="form-label">
                                <i class="fas fa-user me-2"></i>H·ªç
                            </label>
                            <input asp-for="LastName" 
                                   class="form-control" 
                                   placeholder="Nh·∫≠p h·ªç c·ªßa b·∫°n"
                                   required />
                            <span asp-validation-for="LastName" class="invalid-feedback"></span>
                        </div>
                    </div>
                </div>

                <!-- Email -->
                <div class="form-group">
                    <label for="Email" class="form-label">
                        <i class="fas fa-envelope me-2"></i>Email
                    </label>
                    <input asp-for="Email" 
                           class="form-control" 
                           type="email" 
                           placeholder="example@email.com"
                           autocomplete="email"
                           required />
                    <span asp-validation-for="Email" class="invalid-feedback"></span>
                </div>

                <div class="row">
                    <!-- Password -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="Password" class="form-label">
                                <i class="fas fa-lock me-2"></i>M·∫≠t kh·∫©u
                            </label>
                            <div class="password-wrapper">
                                <input asp-for="Password" 
                                       class="form-control password-input" 
                                       type="password" 
                                       placeholder="T·∫°o m·∫≠t kh·∫©u"
                                       autocomplete="new-password"
                                       id="passwordInput"
                                       required />
                                <button type="button" class="password-toggle" id="togglePassword" aria-label="Hi·ªán/·∫©n m·∫≠t kh·∫©u">
                                    <i class="fas fa-eye" id="toggleIcon1"></i>
                                </button>
                            </div>
                            <small class="form-text">T·ªëi thi·ªÉu 8 k√Ω t·ª±, n√™n c√≥ ch·ªØ v√† s·ªë</small>
                            <span asp-validation-for="Password" class="invalid-feedback"></span>
                        </div>
                    </div>

                    <!-- Confirm Password -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="ConfirmPassword" class="form-label">
                                <i class="fas fa-lock me-2"></i>X√°c nh·∫≠n m·∫≠t kh·∫©u
                            </label>
                            <div class="password-wrapper">
                                <input asp-for="ConfirmPassword" 
                                       class="form-control password-input" 
                                       type="password" 
                                       placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u"
                                       autocomplete="new-password"
                                       id="confirmInput"
                                       required />
                                <button type="button" class="password-toggle" id="toggleConfirm" aria-label="Hi·ªán/·∫©n m·∫≠t kh·∫©u">
                                    <i class="fas fa-eye" id="toggleIcon2"></i>
                                </button>
                            </div>
                            <span asp-validation-for="ConfirmPassword" class="invalid-feedback"></span>
                        </div>
                    </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="acceptTerms" name="acceptTerms" required />
                        <label class="form-check-label" for="acceptTerms">
                            T√¥i ƒë·ªìng √Ω v·ªõi <a href="/terms" class="auth-link" target="_blank">ƒëi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a> v√† <a href="/privacy" class="auth-link" target="_blank">ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn-auth">
                    <span class="btn-text">T·∫†O T√ÄI KHO·∫¢N</span>
                    <span class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin me-2"></i>ƒêang x·ª≠ l√Ω...
                    </span>
                </button>
            </form>

            <!-- Footer -->
            <div class="auth-footer">
                <div class="auth-switch">
                    ƒê√£ c√≥ t√†i kho·∫£n? 
                    <a href="/login" class="auth-switch-link">ƒêƒÉng nh·∫≠p ngay</a>
                </div>
                <div class="mt-3">
                    <a href="/" class="auth-link">
                        <i class="fas fa-home me-2"></i>V·ªÅ trang ch·ªß
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/4.0.0/jquery.validate.unobtrusive.min.js" crossorigin="anonymous"></script>

    <script>
        // Password toggle functionality for both password fields
        document.addEventListener('DOMContentLoaded', function() {
            function setupPasswordToggle(inputId, buttonId, iconId) {
                const input = document.getElementById(inputId);
                const button = document.getElementById(buttonId);
                const icon = document.getElementById(iconId);
                
                if (input && button && icon) {
                    button.addEventListener('click', function() {
                        const isPassword = input.type === 'password';
                        input.type = isPassword ? 'text' : 'password';
                        
                        // Toggle icon
                        icon.classList.toggle('fa-eye');
                        icon.classList.toggle('fa-eye-slash');
                        
                        // Update button text for accessibility
                        this.setAttribute('aria-label', isPassword ? '·∫®n m·∫≠t kh·∫©u' : 'Hi·ªán m·∫≠t kh·∫©u');
                    });
                }
            }
            
            // Setup for both password fields
            setupPasswordToggle('passwordInput', 'togglePassword', 'toggleIcon1');
            setupPasswordToggle('confirmInput', 'toggleConfirm', 'toggleIcon2');
            
            // Form submission loading state
            const form = document.querySelector('.auth-form');
            const submitButton = form.querySelector('.btn-auth');
            const btnText = submitButton.querySelector('.btn-text');
            const btnLoading = submitButton.querySelector('.btn-loading');
            
            form.addEventListener('submit', function(e) {
                // Basic validation check
                if (!form.checkValidity()) {
                    e.preventDefault();
                    form.classList.add('was-validated');
                    return;
                }
                
                // Check if terms are accepted
                const termsCheckbox = document.getElementById('acceptTerms');
                if (!termsCheckbox.checked) {
                    e.preventDefault();
                    alert('Vui l√≤ng ƒë·ªìng √Ω v·ªõi ƒëi·ªÅu kho·∫£n s·ª≠ d·ª•ng v√† ch√≠nh s√°ch b·∫£o m·∫≠t');
                    return;
                }
                
                // Show loading state
                submitButton.disabled = true;
                btnText.style.display = 'none';
                btnLoading.style.display = 'inline-block';
                submitButton.classList.add('loading');
            });
            
            // Add input animation
            const inputs = form.querySelectorAll('.form-control');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    if (!this.value) {
                        this.parentElement.classList.remove('focused');
                    }
                });
            });
        });
        
        // Add some interactive animations
        document.addEventListener('mousemove', function(e) {
            const foodIcons = document.querySelectorAll('.food-icon');
            foodIcons.forEach((icon, index) => {
                const speed = (index + 1) * 0.02;
                const x = (window.innerWidth - e.clientX * speed) / 100;
                const y = (window.innerHeight - e.clientY * speed) / 100;
                icon.style.transform = `translateX(${x}px) translateY(${y}px)`;
            });
        });
    </script>
</body>
</html>